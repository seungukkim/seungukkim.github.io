{"pages":[],"posts":[{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2022/06/17/hello-world/"},{"title":"Day-1 Visualization","text":"R MarkdownThis is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com. When you click the Knit button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this: 1summary(cars) 1234567## speed dist ## Min. : 4.0 Min. : 2.00 ## 1st Qu.:12.0 1st Qu.: 26.00 ## Median :15.0 Median : 36.00 ## Mean :15.4 Mean : 42.98 ## 3rd Qu.:19.0 3rd Qu.: 56.00 ## Max. :25.0 Max. :120.00 Including PlotsYou can also embed plots, for example: Note that the echo = FALSE parameter was added to the code chunk to prevent printing of the R code that generated the plot. ggplot2 시각화 다음과 같이 시각화를 작성한다. 1234library(ggplot2)ggplot(data = iris, aes(x = Sepal.Length, y = Sepal.Width)) + geom_point()","link":"/2022/06/17/day0617/"},{"title":"test","text":"##csv 파일 불러오기-csv 파일을 불러옵니다. 12mpg1&lt;-read.csv(&quot;mpg1.csv&quot;)str(mpg1) 123456## 'data.frame': 234 obs. of 5 variables:## $ manufacturer: chr &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; ...## $ trans : chr &quot;auto&quot; &quot;manual&quot; &quot;manual&quot; &quot;auto&quot; ...## $ drv : chr &quot;f&quot; &quot;f&quot; &quot;f&quot; &quot;f&quot; ...## $ cty : int 18 21 20 21 16 18 18 18 16 20 ...## $ hwy : int 29 29 31 30 26 26 27 26 25 28 ... ##데이터 시각화 하기-cty,hwy 산점도를 그려본다. 1234library(ggplot2)ggplot(mpg1,aes(x=cty, y=hwy))+ geom_point()","link":"/2022/06/20/test/"},{"title":"test2","text":"이 상황에서 knit를 누른다(그림은 눌린 이후의 상태이다.) 가장 중요한 것은 mpg1.csv와 testRMd 가 같이 있어야한다. rmd_0620에 있는 test_files 안에 있는 이미지 파일을 복사한다. 그리고 blog ⇒ source⇒ images ⇒rmd_0620에 붙여 넣는다. 그리고 test(Markdown 원본 파일)을 blog ⇒ source⇒_posts 안에 넣는다. 원래 test md에 있는 이미지의 경로를 지우고, images 안에 있는 unnamed-chunk의 경로를 넣는다.","link":"/2022/06/20/test2/"},{"title":"day0621","text":"##빈도의 12mpg1&lt;-read.csv(&quot;mpg1.csv&quot;, stringsAsFactors = F)str(mpg1) 123456## 'data.frame': 234 obs. of 5 variables:## $ manufacturer: chr &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; ...## $ trans : chr &quot;auto&quot; &quot;manual&quot; &quot;manual&quot; &quot;auto&quot; ...## $ drv : chr &quot;f&quot; &quot;f&quot; &quot;f&quot; &quot;f&quot; ...## $ cty : int 18 21 20 21 16 18 18 18 16 20 ...## $ hwy : int 29 29 31 30 26 26 27 26 25 28 ... #1. iris 데이터세트에 있는 변수 Petal.Width의 평균, 최댓값, 최솟값을 구해보세요. 1mean(iris$Petal.Width) 1## [1] 1.199333 1max(iris$Petal.Width) 1## [1] 2.5 1min(iris$Petal.Width) 1## [1] 0.1 #2. ggplot2 패키지에 있는 mpg 데이터세트에서 자동차 class의 자동차 빈도수와 비율을 구하세요. 비율은 백분율이며, 소수점 한자리까지 구합니다. 123library(ggplot2)c&lt;-table(mpg$class)round(prop.table(c)*100,1) 123## ## 2seater compact midsize minivan pickup subcompact suv ## 2.1 20.1 17.5 4.7 14.1 15.0 26.5 #3. mpg에서 자동차 class에 따른 drv의 빈도와 백분율을 구합니다. 조건은 class 별로 drv의 백분율을 계산합니다. 소수점 한자리까지 구합니다. 123library(ggplot2)d&lt;-table(mpg$class,mpg$drv)round(prop.table(d)*100,1) 123456789## ## 4 f r## 2seater 0.0 0.0 2.1## compact 5.1 15.0 0.0## midsize 1.3 16.2 0.0## minivan 0.0 4.7 0.0## pickup 14.1 0.0 0.0## subcompact 1.7 9.4 3.8## suv 21.8 0.0 4.7 #summary 1summary(iris) 1234567891011121314## Sepal.Length Sepal.Width Petal.Length Petal.Width ## Min. :4.300 Min. :2.000 Min. :1.000 Min. :0.100 ## 1st Qu.:5.100 1st Qu.:2.800 1st Qu.:1.600 1st Qu.:0.300 ## Median :5.800 Median :3.000 Median :4.350 Median :1.300 ## Mean :5.843 Mean :3.057 Mean :3.758 Mean :1.199 ## 3rd Qu.:6.400 3rd Qu.:3.300 3rd Qu.:5.100 3rd Qu.:1.800 ## Max. :7.900 Max. :4.400 Max. :6.900 Max. :2.500 ## Species ## setosa :50 ## versicolor:50 ## virginica :50 ## ## ## 1summary(iris$Petal.Width) 12## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 0.100 0.300 1.300 1.199 1.800 2.500 #quantile(), IQR 1quantile(mtcars$mpg) 12## 0% 25% 50% 75% 100% ## 10.400 15.425 19.200 22.800 33.900 1IQR(mtcars$mpg) 1## [1] 7.375","link":"/2022/06/21/day0621/"},{"title":"day0622","text":"##라이브러리 불러오기 1library(dplyr) 12## ## 다음의 패키지를 부착합니다: 'dplyr' 123## The following objects are masked from 'package:stats':## ## filter, lag 123## The following objects are masked from 'package:base':## ## intersect, setdiff, setequal, union 1library(ggplot2) ##데이터를 불러오세요 1getwd() 1## [1] &quot;C:/Users/human/Desktop/R_lecture/day0622&quot; 12exam_na&lt;-read.csv(&quot;../data/exam_na.csv&quot;) is.na(exam_na) 123456## id sex korean english math## [1,] FALSE FALSE FALSE TRUE FALSE## [2,] FALSE FALSE FALSE FALSE FALSE## [3,] FALSE FALSE FALSE FALSE FALSE## [4,] FALSE FALSE TRUE FALSE FALSE## [5,] FALSE FALSE FALSE TRUE FALSE ##결측치의 빈도를 구하기#데이터세트 전체의 결측치 빈도를 확인#korean 변수의 결측치 빈도를 확인 1table(is.na(exam_na)) 123## ## FALSE TRUE ## 22 3 1table(is.na(exam_na$korean)) 123## ## FALSE TRUE ## 4 1 1summary(is.na(exam_na)) 12345678## id sex korean english ## Mode :logical Mode :logical Mode :logical Mode :logical ## FALSE:5 FALSE:5 FALSE:4 FALSE:3 ## TRUE :1 TRUE :2 ## math ## Mode :logical ## FALSE:5 ## 1summary(exam_na) 12345678## id sex korean english math ## Min. :1 Length:5 Min. :87.00 Min. :84.00 Min. :80.0 ## 1st Qu.:2 Class :character 1st Qu.:87.00 1st Qu.:88.00 1st Qu.:82.0 ## Median :3 Mode :character Median :89.50 Median :92.00 Median :88.0 ## Mean :3 Mean :90.25 Mean :90.33 Mean :86.6 ## 3rd Qu.:4 3rd Qu.:92.75 3rd Qu.:93.50 3rd Qu.:90.0 ## Max. :5 Max. :95.00 Max. :95.00 Max. :93.0 ## NA's :1 NA's :2 ##결측치 처리 방법-제거하고 처리하기 -다른 값으로 대체하기 +평균 입력 (1) 결측치를 제외하고 분석하기na.rm = T#제거해라na.rm = F #제거하지마라 1mean(exam_na$korean,na.rm = T) #결측치를 제거하고 평균을 구해라 1## [1] 90.25 -na.omit()-결측치가 있는 행을 모두 제거.+가급적 쓰지 말것 -filter() 활용 1exam_na %&gt;% filter(is.na(korean)) 12## id sex korean english math## 1 4 M NA 84 80 1exam_na %&gt;% filter(!is.na(korean)) 12345## id sex korean english math## 1 1 M 87 NA 82## 2 2 F 92 95 93## 3 3 F 95 92 90## 4 5 F 87 NA 88 ###결측치를 다른 값으로 대체하기-imputation 결측치 제거, 대체 링크 ##이상치-데이터의 특정 값이 뭔가 ‘이상’이 있다.-Case 1: 정해진 범주에서 벗어난 데이터 +2000년 4월 30일 / 2000년 40월 30일 —-&gt;9999로 처리하자-Case 2: 숫자 / 아웃라이어(Outlier) / 극단값 12mpg1_out &lt;-read.csv(&quot;../data/mpg1_out.csv&quot;)glimpse(mpg1_out) 12345## Rows: 234## Columns: 3## $ trans &lt;int&gt; 1, 2, 2, 1, 1, 2, 1, 2, 1, 2, 1, 1, 2, 1, 2, 1, 1, 1, 1, 3, 1, 1…## $ drv &lt;chr&gt; &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;5&quot;,…## $ cty &lt;int&gt; 18, 21, 20, 21, 16, 18, 18, 18, 16, 20, 19, 15, 17, 17, 15, 15, … -trans의 갯수를 구하자 1table(mpg1_out$trans) 123## ## 1 2 3 ## 154 76 4 -ifelse-만약 ~라면, 내가 무엇을 할 것이다.-만약 trans의 값이 3이라면, 결측치로 바꿔주세요. 나머지는 그대로 유지하세요 12mpg1_out$trans&lt;-ifelse(mpg1_out$trans==3,NA,mpg1_out$trans)table(is.na(mpg1_out$trans)) 123## ## FALSE TRUE ## 230 4 -결측치 제거 12result&lt;-mpg1_out %&gt;% filter(!is.na(trans))table(is.na(result$trans)) 123## ## FALSE ## 230 1mpg1_out %&gt;% filter(trans!=3) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231## trans drv cty## 1 1 f 18## 2 2 f 21## 3 2 f 20## 4 1 f 21## 5 1 f 16## 6 2 f 18## 7 1 f 18## 8 2 4 18## 9 1 4 16## 10 2 4 20## 11 1 4 19## 12 1 4 15## 13 2 5 17## 14 1 4 17## 15 2 4 15## 16 1 4 15## 17 1 4 17## 18 1 4 16## 19 1 r 14## 20 1 r 14## 21 1 r 13## 22 1 r 12## 23 2 r 16## 24 1 r 15## 25 2 r 16## 26 1 r 15## 27 1 4 14## 28 1 4 11## 29 1 4 11## 30 1 4 14## 31 1 f 19## 32 1 f 22## 33 1 f 18## 34 1 f 18## 35 1 f 17## 36 1 f 18## 37 1 f 17## 38 1 f 16## 39 1 f 16## 40 1 f 17## 41 1 f 17## 42 1 f 11## 43 1 f 15## 44 1 f 16## 45 1 f 16## 46 2 4 15## 47 1 4 14## 48 1 4 13## 49 2 4 14## 50 1 4 14## 51 1 4 14## 52 1 5 9## 53 2 4 11## 54 1 4 11## 55 1 4 13## 56 1 4 13## 57 1 4 9## 58 1 4 11## 59 1 4 13## 60 1 4 11## 61 2 4 12## 62 1 4 9## 63 1 4 13## 64 1 4 13## 65 2 4 12## 66 2 4 9## 67 1 4 11## 68 2 4 11## 69 1 4 13## 70 1 4 11## 71 1 r 11## 72 1 r 11## 73 1 r 12## 74 1 4 14## 75 2 4 15## 76 1 4 14## 77 1 4 13## 78 1 4 13## 79 1 5 13## 80 1 4 14## 81 2 4 14## 82 2 4 13## 83 1 4 13## 84 1 4 13## 85 1 4 11## 86 1 4 13## 87 2 r 18## 88 1 r 18## 89 2 r 17## 90 1 r 16## 91 1 r 15## 92 2 r 15## 93 2 r 15## 94 1 r 15## 95 2 r 14## 96 2 f 28## 97 1 f 24## 98 2 f 25## 99 2 f 23## 100 1 f 24## 101 2 f 26## 102 1 f 25## 103 1 f 24## 104 2 f 21## 105 1 f 18## 106 2 f 18## 107 1 f 21## 108 2 f 21## 109 1 f 18## 110 2 f 18## 111 1 f 19## 112 1 f 19## 113 2 f 19## 114 2 f 20## 115 1 f 20## 116 1 f 17## 117 2 f 16## 118 2 f 17## 119 1 4 17## 120 1 4 15## 121 1 4 15## 122 1 4 14## 123 1 4 9## 124 1 4 14## 125 1 4 13## 126 1 4 11## 127 1 4 11## 128 1 4 12## 129 1 4 12## 130 1 4 11## 131 1 r 11## 132 1 r 11## 133 1 r 12## 134 1 4 14## 135 1 4 13## 136 1 4 13## 137 1 4 13## 138 2 f 21## 139 1 f 19## 140 1 f 23## 141 2 f 23## 142 2 f 19## 143 1 f 19## 144 1 f 18## 145 2 f 19## 146 1 f 19## 147 1 4 14## 148 2 4 15## 149 1 4 14## 150 1 4 12## 151 1 f 18## 152 1 f 16## 153 1 f 17## 154 1 f 18## 155 1 f 16## 156 2 4 18## 157 1 4 18## 158 2 4 20## 159 2 4 19## 160 1 4 20## 161 1 4 18## 162 1 4 21## 163 2 4 19## 164 2 4 19## 165 1 4 19## 166 1 4 20## 167 1 4 20## 168 2 4 19## 169 2 4 20## 170 2 4 15## 171 1 4 16## 172 1 4 15## 173 2 4 15## 174 1 4 16## 175 1 4 14## 176 2 f 21## 177 1 f 21## 178 2 f 21## 179 1 f 21## 180 1 f 18## 181 2 f 18## 182 1 f 19## 183 1 f 21## 184 2 f 21## 185 2 f 21## 186 1 f 22## 187 1 f 18## 188 2 f 18## 189 1 f 18## 190 1 f 24## 191 1 f 24## 192 2 f 26## 193 2 f 28## 194 1 f 26## 195 1 4 11## 196 1 4 13## 197 2 4 15## 198 1 4 16## 199 2 4 17## 200 2 4 15## 201 1 4 15## 202 2 4 15## 203 1 4 16## 204 2 f 21## 205 1 f 19## 206 2 f 21## 207 1 f 22## 208 2 f 17## 209 2 f 33## 210 2 f 21## 211 1 f 19## 212 1 f 22## 213 2 f 21## 214 1 f 21## 215 2 f 21## 216 1 f 16## 217 2 f 17## 218 2 f 35## 219 1 f 29## 220 2 f 21## 221 1 f 19## 222 2 f 20## 223 1 f 20## 224 2 f 21## 225 1 f 18## 226 1 f 19## 227 2 f 21## 228 1 f 16## 229 2 f 18## 230 1 f 17 ###극단치 처피-숫자 데이터 boxplot()-boxplot() 함수를 통해서 극단치가 있는지 없는지 확인 가능-IQR:3사분위 - 1사부누이-경계값: IQR+ IQR * 1.5 상한 / IQR-IQR * 1.5 하한 123mpg1&lt;-read.csv(&quot;../data/mpg1.csv&quot;)boxplot(mpg1$cty)boxplot(mpg1$cty)$stats 123456## [,1]## [1,] 9## [2,] 14## [3,] 17## [4,] 19## [5,] 26 1boxplot(mpg1$cty, mpg1$hwy)$stats 123456## [,1] [,2]## [1,] 9 12## [2,] 14 18## [3,] 17 24## [4,] 19 27## [5,] 26 37 1boxplot(mpg1$cty~mpg1$drv)$stats 123456## [,1] [,2] [,3]## [1,] 9 15 11## [2,] 13 18 12## [3,] 14 19 15## [4,] 16 21 15## [5,] 20 25 18 12mpg1$cty&lt;-ifelse(mpg1$cty&gt;26|mpg1$cty&lt;9,NA,mpg1$cty)table(is.na(mpg1$cty)) 123## ## FALSE TRUE ## 229 5 1mean(mpg1$cty,na.rm=T) 1## [1] 16.55895 ##ggplot2 강의-데이터 불러오기 12345678library(readxl)library(ggplot2)who_disease&lt;-read_xlsx(&quot;../data/who_disease.xlsx&quot;)#기본 시각화ggplot(who_disease, aes(x=year,y=cases))+ #그래프의 종류 geom_point(alpha=0.1) 1234#옵션ggplot(who_disease, aes(x=year,y=cases))+ #그래프의 종류 geom_point(alpha=0.1) 1234#옵션 2 색상ggplot(who_disease, aes(x=year,y=cases))+ #그래프의 종류 geom_point(alpha=0.1,colour=&quot;red&quot;) 1234#옵션 2 색상ggplot(who_disease, aes(x=year,y=cases))+ #그래프의 종류 geom_point(alpha=0.1,colour=&quot;12E6c2&quot;,) =colour 입력 위치=geom_point(colour) +aes(x,y,colour =컬럼) 1str(iris) 123456## 'data.frame': 150 obs. of 5 variables:## $ Sepal.Length: num 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...## $ Sepal.Width : num 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...## $ Petal.Length: num 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...## $ Petal.Width : num 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...## $ Species : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ... 1234ggplot(iris,aes(x=Sepal.Length, y=Sepal.Width, size=Petal.Length))+ geom_point() #산점도: x축 수치형 연속형 데이터, y축 수치형 연속형 데이터# 12ggplot(who_disease,aes(x=year,y=cases))+ geom_point(alpha=0.1) #히스토그램+질병데이터 region=AMR, year=1980,disease, 백일해 12library(dplyr)str(who_disease) 1234567## tibble [43,262 × 6] (S3: tbl_df/tbl/data.frame)## $ region : chr [1:43262] &quot;EMR&quot; &quot;EUR&quot; &quot;AFR&quot; &quot;EUR&quot; ...## $ countryCode: chr [1:43262] &quot;AFG&quot; &quot;ALB&quot; &quot;DZA&quot; &quot;AND&quot; ...## $ country : chr [1:43262] &quot;Afghanistan&quot; &quot;Albania&quot; &quot;Algeria&quot; &quot;Andorra&quot; ...## $ disease : chr [1:43262] &quot;measles&quot; &quot;measles&quot; &quot;measles&quot; &quot;measles&quot; ...## $ year : num [1:43262] 2016 2016 2016 2016 2016 ...## $ cases : num [1:43262] 638 17 41 0 53 0 0 2 99 27 ... 123456who_disease %&gt;% filter(region=='AMR', year==1980, disease=='pertussis', cases&gt;0)-&gt;data2ggplot(data2,aes(x=cases))+ geom_histogram(fill=&quot;red&quot;) 1## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. 123ggplot(data2,aes(x=country, y=cases))+ geom_col(fill=&quot;blue&quot;)+ coord_flip() 12ggplot(who_disease,aes(region))+ geom_bar() 12ggplot(who_disease,aes(disease))+ geom_bar() 123library(ggplot2)diamonds&lt;-ggplot2::diamondsggplot(diamonds,aes(x=carat,y=price)) 1ggplot(diamonds,aes(x=carat,y=price))+geom_point() 12ggplot(diamonds, aes(x=cut))+ geom_bar() #table()함수로 cut별 빈도수를 확인 1table(diamonds$cut) 123## ## Fair Good Very Good Premium Ideal ## 1610 4906 12082 13791 21551 12ggplot(diamonds,aes(x=cut,y=price))+ geom_bar(stat=&quot;identity&quot;) #cut 범주별 평균 가격 구하기 1234cut_price&lt;-diamonds %&gt;% group_by(cut) %&gt;% summarise(mean_price=mean(price))cut_price 12345678## # A tibble: 5 × 2## cut mean_price## &lt;ord&gt; &lt;dbl&gt;## 1 Fair 4359.## 2 Good 3929.## 3 Very Good 3982.## 4 Premium 4584.## 5 Ideal 3458. 12ggplot(data=cut_price,aes(x=cut,y=mean_price))+ geom_col() 12ggplot(data=diamonds,aes(x=carat))+ geom_histogram() 1## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. 1range(diamonds$carat) 1## [1] 0.20 5.01 12ggplot(diamonds,aes(x=carat))+ geom_histogram(binwidth = 1) 12ggplot(diamonds,aes(x=carat))+ geom_histogram(binwidth = 0.01) 12ggplot(diamonds,aes(x=carat))+ geom_density() 12ggplot(diamonds,aes(x=1,y=price))+ geom_boxplot() 12ggplot(cars,aes(x=speed,y=dist))+ geom_line() #실업자수 변화 12ggplot(economics,aes(x=date,y=unemploy))+ geom_line() ##ggplot()정교하게 그리기 -산점도 그리기 12ggplot(diamonds, aes(x=carat, y=price, col=cut))+ geom_point() #막대그래프에 2개 범주내용 반영하기 12ggplot(diamonds, aes(x=color,fill=cut))+ geom_bar(position=&quot;fill&quot;) #p.219선 그래프에 2개 범주 내용 반영 12leisure&lt;-read.csv(&quot;../data/leisure.csv&quot;)str(leisure) 1234## 'data.frame': 200 obs. of 3 variables:## $ age : int 2 2 3 3 4 4 5 5 6 6 ...## $ sex : chr &quot;female&quot; &quot;male&quot; &quot;female&quot; &quot;male&quot; ...## $ expense: num 25.8 21 30 16.3 25.7 ... 12ggplot(leisure,aes(x=age,y=expense,col=sex))+ geom_line(size=1.2,linetype=3) #막대그래프의 순서변경-reorder() 1234567mpg1&lt;-read.csv(&quot;../data/mpg1.csv&quot;,stringsAsFactors = F)#데이터 가공drv_hwy&lt;-mpg1 %&gt;% group_by(drv) %&gt;% summarise(mean_hwy=mean(hwy))drv_hwy 123456## # A tibble: 3 × 2## drv mean_hwy## &lt;chr&gt; &lt;dbl&gt;## 1 4 19.2## 2 f 28.2## 3 r 21 123#기본 그래프ggplot(drv_hwy,aes(x=drv,y=mean_hwy))+ geom_col() 12ggplot(drv_hwy,aes(x=reorder(drv,mean_hwy),y=mean_hwy))+ geom_col() 123456789ggplot(drv_hwy,aes(x=reorder(drv,-mean_hwy),y=mean_hwy))+ geom_col()+ labs( title=&quot;그래프 제목을 입력하세요&quot;, subtitle=&quot;그래프 소제목을 입력하세요&quot;, x=&quot;x변수명을 입력하세요&quot;, y=&quot;y변수명을 입력하세요&quot;, caption=&quot;데이터 출처를 입력하세요&quot; )","link":"/2022/06/22/day0622/"},{"title":"day0623","text":"제목 1ㄴㄴㄴㄴ 소제목 1제목 2ㅁㅇㄹㅇㄹ 소제목 1-1##복습iris데이터,sepal.length,sepal.width 활용해서 종별로 산점도를 그리세요.-제목과 x축, y축을 변경하세요+x축 길이, y축 너비 12library(ggplot2)summary(iris) 1234567891011121314## Sepal.Length Sepal.Width Petal.Length Petal.Width ## Min. :4.300 Min. :2.000 Min. :1.000 Min. :0.100 ## 1st Qu.:5.100 1st Qu.:2.800 1st Qu.:1.600 1st Qu.:0.300 ## Median :5.800 Median :3.000 Median :4.350 Median :1.300 ## Mean :5.843 Mean :3.057 Mean :3.758 Mean :1.199 ## 3rd Qu.:6.400 3rd Qu.:3.300 3rd Qu.:5.100 3rd Qu.:1.800 ## Max. :7.900 Max. :4.400 Max. :6.900 Max. :2.500 ## Species ## setosa :50 ## versicolor:50 ## virginica :50 ## ## ## 12ggplot(iris, aes(x=Sepal.Length, y=Sepal.Width, col=Species))+ geom_point() 123library(ggplot2)str(iris) 123456## 'data.frame': 150 obs. of 5 variables:## $ Sepal.Length: num 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...## $ Sepal.Width : num 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...## $ Petal.Length: num 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...## $ Petal.Width : num 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...## $ Species : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ... 123456789101112ggplot(iris,aes(x=Sepal.Length,y=Sepal.Width, col=Species))+ geom_point()+ labs( title=&quot;제목&quot;, x=&quot;길이&quot;, y=&quot;너비&quot; )+ scale_color_manual( labels= c(&quot;setosa&quot;, &quot;vericolor&quot;,&quot;virginica&quot;), values= c(&quot;red&quot;,&quot;blue&quot;,&quot;yellow&quot;) )+ theme_classic() #평균차이 검정 -가설 검정: 평균의 차이를 검정 -남자의 평균키와 여자의 평균 키는 차이가 있을 것이다. #교차분석(=빈도분석)-가설검정: 각 범주별 비도를 활용해서 관계성을 검정#단순 회귀 분석 y =ax + b y는 종속변수, x가 정해져야지 정해진다. -온도 판매량 -가설 검정 기온(독립변수)이 판매량(종속변수)에 긍정적(부정적)영향을 주고 있을 것이다. 평균차이 분석, 회귀분석 ###가설-Hypothesis—-&gt; 공부 방법: 선행 연구, 해당분석 방법의 가설 설정 예시 존재-연구: 내가 궁금한 것을 찾는 것-귀무가설: 두 그룹간의 평균 차이가 없다.-대립가설: 두 그룹간의 평균 차이가 있다. 100명 중 5명 여기서 5명을 유의수준유의수준=&gt;0.05이내면 대립가설을 지지해주기로 했다.예외가 있다.=&gt; 예외가 있음을 인정하자 -가설 검정에서 인정하는 유의수준5%, 1%, 0.1% 또는 10% -A후보 44%-B후보 42% 이재명 vs 윤형선-이재명 t.test-어떻게 데이터를 입력하는지 확인-p.value, 유의수준 0.65이상: 귀무가설, 0.05이내 –&gt; 대립 가설 1234mpg1&lt;-read.csv(&quot;../data/mpg1.csv&quot;, stringsAsFactors =F)library(ggplot2)ggplot(mpg1,aes(x=trans,y=cty))+ geom_boxplot() -t.test검정+귀무가설: auto와 manual의 cty 평균은 차이가 없다. 대립 가설:auto와 manual의 cty 평균은 차이가 있다.(보다 작으면) 1t.test(data=mpg1, cty~trans) 1234567891011## ## Welch Two Sample t-test## ## data: cty by trans## t = -4.5375, df = 132.32, p-value = 1.263e-05## alternative hypothesis: true difference in means between group auto and group manual is not equal to 0## 95 percent confidence interval:## -3.887311 -1.527033## sample estimates:## mean in group auto mean in group manual ## 15.96815 18.67532 12#종속변수~독립변수#y(반응변수)x(설명변수) -두 그룹의 평균 차이 검정 +사전 필수 검증 +등분산 검정 +두 그룹간의 분산이 비슷하면 ==&gt; t.test(모수 검정) +두 그룹간의 분산이 다르면, –&gt;비모수 검정 +등분산 검정 +귀무가설: 두 그룹간의 분산이 비슷하다. +대립가설:ㅈㄹ 1var.test(data=mpg1,cty~trans) 1234567891011## ## F test to compare two variances## ## data: cty by trans## F = 0.73539, num df = 156, denom df = 76, p-value = 0.1101## alternative hypothesis: true ratio of variances is not equal to 1## 95 percent confidence interval:## 0.4912917 1.0719468## sample estimates:## ratio of variances ## 0.7353887 12ggplot(mpg1, aes(x=cty,fill=trans))+ geom_density(alpha=0.1) 교차분석-범주형 변수들이 관계가 있다는 것을 검정-비율에 차이가 있는지 검정-교차분석 검정은 R의chisq.test() 함수로 진행-귀무가설: trans에 따라 drv(4,f,r)의 (비율)차이가 없다.-대립가설: trans에 따라 drv의 차이가 있다. #빈도표 / 비율 1table(mpg1$trans, mpg1$drv) 1234## ## 4 f r## auto 75 65 17## manual 28 41 8 비율 1prop.table(table(mpg1$trans,mpg1$drv),1) 1234## ## 4 f r## auto 0.4777070 0.4140127 0.1082803## manual 0.3636364 0.5324675 0.1038961 -auto 4륜 구동(4)인 47.8%-manual 전륜구동(f) 53.2% 가장 많음-실제로 통계적으로 봤을 때, 차이가 있는지 검정 1chisq.test(mpg1$trans,mpg1$drv) 12345## ## Pearson's Chi-squared test## ## data: mpg1$trans and mpg1$drv## X-squared = 3.1368, df = 2, p-value = 0.2084 -차이가 없다.","link":"/2022/06/23/day0623/"},{"title":"day0624","text":"-통계 검정 +평균 차이 검정: 수치 데이터 +범주 데이터(두 그룹) -세 그룹 이상 +비율 차이 검정: 범주 데이터 +상관 관계: 수치 데이터 +회귀 -통계 검정 사전 준비 +분석을 위한 데이터가 적절한지 검정 +등분산 검정(두 평균 차이 검정을 하려고 할 때, 분산이 비슷한지 확인하는 것), 수치 데이터가 정규 분포를 이루는가(정규성 검정) -귀무가설, 대립가설 적절하게 설정 +서울의 평균 임금과 부산의 평균 임금이 차이가 있을 것이다. +선행 연구(논문을 찾아서 응용) -테스트 +t.test, chisq.test, cor.test +p.value -p.value&gt;0.05 –&gt; 귀무가설을 지지 -p.value&lt;0.05 –&gt; 대립가설을 지지 ##회귀의 중요성-기초 통계 : 특정한 결과에 영향을 주는 주 요인이 뭐냐? 이걸 찾는 것이 회귀.-회귀분석과 종류 +1세대 회귀 방법론: 다항 회귀분석, 다중 회귀분석, 포아송 회귀분석 +2세대 회귀 방법론: 구조 방정식 -귀무가설&amp;대립가설 존재 +귀무가설:x(=독립 변수)가 y(=종속 변수)에 영향을 주지 않는다. +대립가설:x(=독립 변수)가 y(=종속 변수)에 영향을 준다. -lm(종속 변수 ~ 독립 변수,data) +p.value 12RA&lt;-lm(data=mtcars,mpg~disp)summary(RA) 123456789101112131415161718## ## Call:## lm(formula = mpg ~ disp, data = mtcars)## ## Residuals:## Min 1Q Median 3Q Max ## -4.8922 -2.2022 -0.9631 1.6272 7.2305 ## ## Coefficients:## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) 29.599855 1.229720 24.070 &lt; 2e-16 ***## disp -0.041215 0.004712 -8.747 9.38e-10 ***## ---## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1## ## Residual standard error: 3.251 on 30 degrees of freedom## Multiple R-squared: 0.7183, Adjusted R-squared: 0.709 ## F-statistic: 76.51 on 1 and 30 DF, p-value: 9.38e-10 -머신 러닝, 인공지능 주 목적은 예측 y = ax + b ANOVA (분산 분석)식1: y=disp + var1 + var2 + var3식2: y=disp + var1 + var2 컬럼 개수가 100개-전진소거법, 후진소거법 R-squared : 결정계수= 설명력= 0~1-1로 수렴할수록 설명력이 좋다 특정한 결과에 영향을 주는 주 요인이 뭐냐? 이걸 찾는 것이 회귀 1lm(data=mtcars,mpg~disp) 1234567## ## Call:## lm(formula = mpg ~ disp, data = mtcars)## ## Coefficients:## (Intercept) disp ## 29.59985 -0.04122 1lm(formula=mpg~disp,data=mtcars) 1234567## ## Call:## lm(formula = mpg ~ disp, data = mtcars)## ## Coefficients:## (Intercept) disp ## 29.59985 -0.04122 #p-value가 0.5보다 작으면 회귀모형이 적합하다고 해석그렇지 않으면 회귀모형에 문제가 있는 것이므로 회귀분석 자체가 성립x 1lm(data= mtcars,mpg~disp+hp+wt) 1234567## ## Call:## lm(formula = mpg ~ disp + hp + wt, data = mtcars)## ## Coefficients:## (Intercept) disp hp wt ## 37.105505 -0.000937 -0.031157 -3.800891 12RA&lt;-lm(data=mtcars,mpg~disp+hp+wt)summary(RA) 1234567891011121314151617181920## ## Call:## lm(formula = mpg ~ disp + hp + wt, data = mtcars)## ## Residuals:## Min 1Q Median 3Q Max ## -3.891 -1.640 -0.172 1.061 5.861 ## ## Coefficients:## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) 37.105505 2.110815 17.579 &lt; 2e-16 ***## disp -0.000937 0.010350 -0.091 0.92851 ## hp -0.031157 0.011436 -2.724 0.01097 * ## wt -3.800891 1.066191 -3.565 0.00133 ** ## ---## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1## ## Residual standard error: 2.639 on 28 degrees of freedom## Multiple R-squared: 0.8268, Adjusted R-squared: 0.8083 ## F-statistic: 44.57 on 3 and 28 DF, p-value: 8.65e-11 1library(dplyr) 12## ## 다음의 패키지를 부착합니다: 'dplyr' 123## The following objects are masked from 'package:stats':## ## filter, lag 123## The following objects are masked from 'package:base':## ## intersect, setdiff, setequal, union 12library(ggplot2)library(foreign) 1mental&lt;-read.spss(&quot;../data/한국행정연구원_사회통합실태조사_데이터_2019.sav&quot;) 1## re-encoding from CP51949 1class(mental)#객체 유형 확인인 1## [1] &quot;list&quot; 12mental&lt;-as.data.frame(mental)#데이터프레임으로 변환하기기class(mental) 1## [1] &quot;data.frame&quot; 1str(mental)#mental 의 구조조 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101## 'data.frame': 8000 obs. of 276 variables:## $ id : num 1 2 3 4 5 6 7 8 9 10 ...## $ ara : Factor w/ 17 levels &quot;서울&quot;,&quot;부산&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...## $ wt1 : num 12216 12216 8455 7421 6474 ...## $ wt2 : num 2.58 2.58 1.79 1.57 1.37 ...## $ q1_1 : Factor w/ 12 levels &quot;0점 전혀 행복하지 않았다&quot;,..: 8 6 7 5 7 8 8 8 7 5 ...## $ q1_2 : Factor w/ 12 levels &quot;0점 전혀 하지 않았다&quot;,..: 5 5 5 4 4 4 6 6 4 6 ...## $ q1_3 : Factor w/ 12 levels &quot;0점 전혀 우울하지 않았다&quot;,..: 6 4 6 5 4 5 5 7 5 5 ...## $ q1_4 : Factor w/ 12 levels &quot;0점 전혀 만족하지 않는다&quot;,..: 5 5 5 4 7 5 6 6 5 5 ...## $ q1_5 : Factor w/ 12 levels &quot;0점 전혀 가치 없다&quot;,..: 6 4 5 4 8 7 7 6 5 4 ...## $ q2_1 : Factor w/ 11 levels &quot;0점 전혀 안전하지 않다&quot;,..: 5 6 7 5 7 8 6 7 6 6 ...## $ q2_2 : Factor w/ 11 levels &quot;0점 전혀 안전하지 않다&quot;,..: 4 7 6 4 7 7 7 5 4 5 ...## $ q2_3 : Factor w/ 11 levels &quot;0점 전혀 안전하지 않다&quot;,..: 4 7 6 5 7 5 6 4 4 6 ...## $ q3 : Factor w/ 11 levels &quot;0점 전혀 자유롭지 않다&quot;,..: 4 6 4 3 8 6 6 5 4 5 ...## $ q4 : Factor w/ 12 levels &quot;0점 매우 낮다&quot;,..: 4 6 5 4 6 7 6 4 4 6 ...## $ q5_1 : Factor w/ 5 levels &quot;전혀 그렇지 않다&quot;,..: 3 3 2 3 3 3 2 2 2 2 ...## $ q5_2 : Factor w/ 5 levels &quot;전혀 그렇지 않다&quot;,..: 2 3 3 2 2 3 3 2 1 2 ...## $ q5_2_1 : Factor w/ 5 levels &quot;전혀 그렇지 않다&quot;,..: 2 3 2 3 2 3 2 2 2 2 ...## $ q5_2_2 : Factor w/ 5 levels &quot;전혀 그렇지 않다&quot;,..: 2 4 2 2 2 2 2 2 1 2 ...## $ q5_3 : Factor w/ 5 levels &quot;전혀 그렇지 않다&quot;,..: 3 3 3 3 3 3 2 2 1 2 ...## $ q5_4 : Factor w/ 5 levels &quot;전혀 그렇지 않다&quot;,..: 2 3 2 2 3 2 2 1 1 1 ...## $ q6 : Factor w/ 11 levels &quot;0점 전혀 만족하지 않는다&quot;,..: 7 7 6 6 7 8 7 5 7 4 ...## $ q7 : Factor w/ 11 levels &quot;0점 매우 나빠질 것이다&quot;,..: 7 6 6 5 6 7 8 6 5 4 ...## $ q8 : Factor w/ 11 levels &quot;0점 전혀 만족하지 않는다&quot;,..: 6 6 6 7 6 6 7 5 5 3 ...## $ q9 : Factor w/ 11 levels &quot;0점 매우 나빠질 것이다&quot;,..: 5 6 5 7 6 6 7 5 5 3 ...## $ q10 : Factor w/ 11 levels &quot;0점 전혀 만족하지 않는다&quot;,..: 6 9 7 8 7 9 7 6 5 6 ...## $ q11 : Factor w/ 11 levels &quot;0점 매우 나빠질 것이다&quot;,..: 4 9 6 5 5 7 6 6 5 8 ...## $ q12 : Factor w/ 11 levels &quot;북한은 우리의 적이다&quot;,..: 4 4 7 6 6 7 7 7 3 7 ...## $ q13 : Factor w/ 11 levels &quot;성장이 더 중요하다&quot;,..: 4 5 6 5 7 6 6 6 3 5 ...## $ q14 : Factor w/ 11 levels &quot;공동체의 이익이 더 중요하다&quot;,..: 4 4 6 4 7 7 7 6 3 5 ...## $ q15_1 : Factor w/ 4 levels &quot;고도의 경제성장&quot;,..: 1 1 1 1 3 2 2 2 4 3 ...## $ q15_2 : Factor w/ 4 levels &quot;고도의 경제성장&quot;,..: 2 3 4 4 2 1 1 4 1 4 ...## $ q16_1 : Factor w/ 4 levels &quot;국가의 질서 유지&quot;,..: 2 2 2 2 1 2 2 2 4 2 ...## $ q16_2 : Factor w/ 4 levels &quot;국가의 질서 유지&quot;,..: 3 4 4 3 4 3 3 4 1 3 ...## $ q17_1 : Factor w/ 4 levels &quot;경제 안정&quot;,&quot;범죄와의 전쟁&quot;,..: 2 3 3 2 2 1 2 2 4 1 ...## $ q17_2 : Factor w/ 4 levels &quot;경제 안정&quot;,&quot;범죄와의 전쟁&quot;,..: 4 2 1 3 3 4 3 3 2 4 ...## $ q18_1 : Factor w/ 4 levels &quot;전혀 동의하지 않는다&quot;,..: 2 2 2 3 2 3 3 2 3 2 ...## $ q18_2 : Factor w/ 4 levels &quot;전혀 동의하지 않는다&quot;,..: 2 3 3 2 3 2 3 3 2 3 ...## $ q18_3 : Factor w/ 4 levels &quot;전혀 동의하지 않는다&quot;,..: 2 2 3 2 2 2 3 2 2 2 ...## $ q19_1 : Factor w/ 6 levels &quot;소속된 적이 없다&quot;,..: 1 2 1 1 1 1 1 1 3 1 ...## $ q19_2 : Factor w/ 6 levels &quot;소속된 적이 없다&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...## $ q19_3 : Factor w/ 6 levels &quot;소속된 적이 없다&quot;,..: 1 1 1 3 1 1 1 1 1 1 ...## $ q19_4 : Factor w/ 6 levels &quot;소속된 적이 없다&quot;,..: 3 1 1 3 2 3 3 3 3 1 ...## $ q19_5 : Factor w/ 6 levels &quot;소속된 적이 없다&quot;,..: 1 2 1 1 1 2 1 1 1 1 ...## $ q19_6 : Factor w/ 6 levels &quot;소속된 적이 없다&quot;,..: 3 1 1 1 1 1 2 1 1 1 ...## $ q19_7 : Factor w/ 6 levels &quot;소속된 적이 없다&quot;,..: 3 1 1 1 3 1 2 3 2 1 ...## $ q19_8 : Factor w/ 6 levels &quot;소속된 적이 없다&quot;,..: 1 1 2 1 2 1 1 1 1 1 ...## $ q19_9 : Factor w/ 6 levels &quot;소속된 적이 없다&quot;,..: 1 1 1 1 2 1 1 2 1 1 ...## $ q20_1 : Factor w/ 8 levels &quot;1점 전혀 중요하지 않다&quot;,..: 4 4 2 4 6 2 5 4 6 5 ...## $ q20_2 : Factor w/ 8 levels &quot;1점 전혀 중요하지 않다&quot;,..: 5 3 3 5 6 3 4 5 6 4 ...## $ q20_3 : Factor w/ 8 levels &quot;1점 전혀 중요하지 않다&quot;,..: 6 3 4 4 5 2 4 4 5 5 ...## $ q20_4 : Factor w/ 8 levels &quot;1점 전혀 중요하지 않다&quot;,..: 5 4 5 3 6 2 4 5 5 4 ...## $ q20_5 : Factor w/ 8 levels &quot;1점 전혀 중요하지 않다&quot;,..: 5 2 4 4 6 2 5 5 5 4 ...## $ q20_6 : Factor w/ 8 levels &quot;1점 전혀 중요하지 않다&quot;,..: 5 2 5 3 6 3 3 5 7 4 ...## $ q20_7 : Factor w/ 8 levels &quot;1점 전혀 중요하지 않다&quot;,..: 5 3 5 3 6 2 3 5 6 3 ...## $ q20_8 : Factor w/ 8 levels &quot;1점 전혀 중요하지 않다&quot;,..: 5 3 5 3 7 2 3 5 6 3 ...## $ q21_1 : Factor w/ 5 levels &quot;전혀 동의하지 않는다&quot;,..: 4 3 3 3 4 4 4 3 4 3 ...## $ q21_2 : Factor w/ 5 levels &quot;전혀 동의하지 않는다&quot;,..: 3 3 2 3 3 4 4 4 3 2 ...## $ q21_3 : Factor w/ 5 levels &quot;전혀 동의하지 않는다&quot;,..: 3 4 3 4 3 5 4 3 4 2 ...## $ q21_4 : Factor w/ 5 levels &quot;전혀 동의하지 않는다&quot;,..: 3 3 2 3 3 4 4 3 3 2 ...## $ q22_1 : Factor w/ 4 levels &quot;지난 1년 동안 한 적이 있다&quot;,..: 4 3 1 3 1 3 1 3 4 2 ...## $ q22_2 : Factor w/ 4 levels &quot;지난 1년 동안 한 적이 있다&quot;,..: 4 2 2 3 1 3 1 2 4 2 ...## $ q22_3 : Factor w/ 4 levels &quot;지난 1년 동안 한 적이 있다&quot;,..: 4 3 2 3 3 3 3 3 4 3 ...## $ q22_4 : Factor w/ 4 levels &quot;지난 1년 동안 한 적이 있다&quot;,..: 4 3 1 2 1 3 3 3 4 2 ...## $ q22_5 : Factor w/ 4 levels &quot;지난 1년 동안 한 적이 있다&quot;,..: 4 3 3 3 1 3 3 3 4 2 ...## $ q22_6 : Factor w/ 4 levels &quot;지난 1년 동안 한 적이 있다&quot;,..: 4 4 3 3 1 3 3 4 4 3 ...## $ q22_7 : Factor w/ 4 levels &quot;지난 1년 동안 한 적이 있다&quot;,..: 4 2 3 3 1 3 2 3 4 2 ...## $ q22_8 : Factor w/ 4 levels &quot;지난 1년 동안 한 적이 있다&quot;,..: 4 2 3 3 1 1 2 3 1 2 ...## $ q23 : Factor w/ 2 levels &quot;참여했다&quot;,&quot;참여하지 않았다&quot;: 1 1 1 1 1 1 2 1 1 1 ...## $ q24 : Factor w/ 2 levels &quot;참여했다&quot;,&quot;참여하지 않았다&quot;: 1 1 1 1 1 1 2 1 1 1 ...## $ q25 : Factor w/ 2 levels &quot;참여했다&quot;,&quot;참여하지 않았다&quot;: 1 1 1 2 1 1 2 1 1 1 ...## $ q26 : Factor w/ 2 levels &quot;있다&quot;,&quot;없다&quot;: 1 1 1 1 2 1 2 1 1 2 ...## $ q27 : Factor w/ 6 levels &quot;매우 보수적&quot;,..: 1 2 2 3 4 4 3 1 2 3 ...## $ q28_1 : Factor w/ 4 levels &quot;전혀 이루어지지 않고 있다&quot;,..: 2 3 2 1 3 3 3 3 3 1 ...## $ q28_2 : Factor w/ 4 levels &quot;전혀 이루어지지 않고 있다&quot;,..: 2 3 3 2 2 3 3 3 2 1 ...## $ q28_3 : Factor w/ 4 levels &quot;전혀 이루어지지 않고 있다&quot;,..: 2 3 2 2 3 2 4 2 2 1 ...## $ q28_4 : Factor w/ 4 levels &quot;전혀 이루어지지 않고 있다&quot;,..: 2 3 2 2 2 1 3 2 2 1 ...## $ q29_1 : Factor w/ 4 levels &quot;전혀 이루어지지 않고 있다&quot;,..: 3 2 2 3 2 2 2 1 4 3 ...## $ q29_2 : Factor w/ 4 levels &quot;전혀 이루어지지 않고 있다&quot;,..: 3 3 3 2 2 1 2 1 3 2 ...## $ q29_3 : Factor w/ 4 levels &quot;전혀 이루어지지 않고 있다&quot;,..: 3 3 2 2 3 1 2 1 3 2 ...## $ q29_4 : Factor w/ 4 levels &quot;전혀 이루어지지 않고 있다&quot;,..: 3 3 2 2 3 1 2 1 3 2 ...## $ q30_1 : Factor w/ 5 levels &quot;없다&quot;,&quot;1~2명&quot;,..: 2 3 2 3 2 2 2 2 2 1 ...## $ q30_1_1 : Factor w/ 7 levels &quot;전화&quot;,&quot;우편&quot;,..: 4 4 4 4 4 4 4 4 4 NA ...## $ q30_1_2 : Factor w/ 6 levels &quot;이메일&quot;,&quot;SNS(페이스북, 트위터, 인스타그램 등)&quot;,..: NA NA NA NA NA NA NA NA NA NA ...## $ q30_2 : Factor w/ 7 levels &quot;없다&quot;,&quot;1~2명&quot;,..: 3 4 3 3 4 2 2 3 4 2 ...## $ q30_2_1 : Factor w/ 7 levels &quot;전화&quot;,&quot;우편&quot;,..: 1 4 4 4 3 4 1 4 1 5 ...## $ q30_2_2 : Factor w/ 6 levels &quot;이메일&quot;,&quot;SNS(페이스북, 트위터, 인스타그램 등)&quot;,..: NA NA NA NA 1 NA NA NA NA NA ...## $ q31_1 : Factor w/ 5 levels &quot;없다&quot;,&quot;1~2명&quot;,..: 4 3 1 3 3 2 1 4 3 3 ...## $ q31_2 : Factor w/ 5 levels &quot;없다&quot;,&quot;1~2명&quot;,..: 3 2 1 2 3 2 1 3 2 2 ...## $ q31_3 : Factor w/ 5 levels &quot;없다&quot;,&quot;1~2명&quot;,..: 4 3 1 2 3 2 1 4 2 2 ...## $ q32_1 : Factor w/ 4 levels &quot;전혀 그렇지 않다&quot;,..: 2 2 2 2 1 2 3 3 1 2 ...## $ q32_2 : Factor w/ 4 levels &quot;전혀 그렇지 않다&quot;,..: 2 2 2 1 1 2 3 3 1 2 ...## $ q32_3 : Factor w/ 4 levels &quot;전혀 그렇지 않다&quot;,..: 2 2 2 2 1 2 3 3 1 2 ...## $ q33 : Factor w/ 5 levels &quot;전혀 믿을 수 없다&quot;,..: 2 3 2 2 3 2 2 3 3 3 ...## $ q34_1 : Factor w/ 4 levels &quot;전혀 신뢰하지 않는다&quot;,..: 3 3 2 2 4 2 2 2 4 3 ...## $ q34_2 : Factor w/ 4 levels &quot;전혀 신뢰하지 않는다&quot;,..: 2 3 2 3 3 2 2 3 3 2 ...## $ q34_3 : Factor w/ 4 levels &quot;전혀 신뢰하지 않는다&quot;,..: 2 2 2 3 2 2 1 2 3 3 ...## $ q34_4 : Factor w/ 4 levels &quot;전혀 신뢰하지 않는다&quot;,..: 2 2 2 2 1 1 2 2 2 2 ...## $ q34_5 : Factor w/ 4 levels &quot;전혀 신뢰하지 않는다&quot;,..: 2 2 2 2 2 1 2 2 2 2 ...## $ q35_1 : Factor w/ 4 levels &quot;전혀 믿지 않는다&quot;,..: 3 3 2 2 2 2 1 2 3 3 ...## [list output truncated] 12345678910111213#추출 변수(변수 설명, 척도 범위) : 영어 변수 이름mental&lt;-mental %&gt;% select(q32_2,q1_4,q32_1,q34_1, q52,d17,,d1,d2,ara) %&gt;% rename(suicide=q32_2, satisfaction=q1_4, loneliness=q32_1, family_belief=q34_1, wealth=q52, health=d17, sex=d1, age=d2, area=ara)str(mental) 12345678910## 'data.frame': 8000 obs. of 9 variables:## $ suicide : Factor w/ 4 levels &quot;전혀 그렇지 않다&quot;,..: 2 2 2 1 1 2 3 3 1 2 ...## $ satisfaction : Factor w/ 12 levels &quot;0점 전혀 만족하지 않는다&quot;,..: 5 5 5 4 7 5 6 6 5 5 ...## $ loneliness : Factor w/ 4 levels &quot;전혀 그렇지 않다&quot;,..: 2 2 2 2 1 2 3 3 1 2 ...## $ family_belief: Factor w/ 4 levels &quot;전혀 신뢰하지 않는다&quot;,..: 3 3 2 2 4 2 2 2 4 3 ...## $ wealth : Factor w/ 11 levels &quot;0점 전혀 안정적이지 않다&quot;,..: 4 7 6 6 7 7 6 5 4 6 ...## $ health : Factor w/ 5 levels &quot;매우 나쁘다&quot;,..: 4 3 4 4 4 4 4 4 4 4 ...## $ sex : Factor w/ 2 levels &quot;남성&quot;,&quot;여성&quot;: 2 2 1 2 1 2 2 1 2 1 ...## $ age : Factor w/ 5 levels &quot;19~29세&quot;,&quot;30대&quot;,..: 5 5 4 4 3 3 1 5 5 3 ...## $ area : Factor w/ 17 levels &quot;서울&quot;,&quot;부산&quot;,..: 1 1 1 1 1 1 1 1 1 1 ... 12345678mental$suicide &lt;- as.integer(mental$suicide)mental$satisfaction&lt;- as.integer(mental$satisfaction)mental$loneliness&lt;-as.integer(mental$loneliness)mental$family_belief&lt;-as.integer(mental$family_belief)mental$wealth &lt;-as.integer(mental$wealth)mental$health&lt;-as.integer(mental$health)table(mental$suicide) 123## ## 1 2 3 4 ## 5592 1862 479 67 1table(mental$health) 123## ## 1 2 3 4 5 ## 87 509 2413 3730 1261 1table(mental$satisfaction) 123## ## 1 2 3 4 5 6 7 8 9 10 11 ## 49 79 170 302 440 2053 1611 1761 1040 321 174 #sex, age, area의 유형을 범주형에서 문자형으로 변환 12mental$satisfaction&lt;-mental$satisfaction-1mental$wealth&lt;-mental$wealth-1 #age 범주 이름 바꾸기 12mental$age&lt;-ifelse(mental$age==&quot;19~29세&quot;,&quot;20대&quot;, ifelse(mental$age==&quot;60~69&quot;,&quot;60대&quot;,mental$age)) #결측치, 이상치 확인하기 1summary(mental) 12345678910111213141516## suicide satisfaction loneliness family_belief ## Min. :1.000 Min. : 0.000 Min. :1.000 Min. :1.000 ## 1st Qu.:1.000 1st Qu.: 5.000 1st Qu.:1.000 1st Qu.:3.000 ## Median :1.000 Median : 6.000 Median :2.000 Median :4.000 ## Mean :1.378 Mean : 6.037 Mean :1.795 Mean :3.576 ## 3rd Qu.:2.000 3rd Qu.: 7.000 3rd Qu.:2.000 3rd Qu.:4.000 ## Max. :4.000 Max. :10.000 Max. :4.000 Max. :4.000 ## ## wealth health sex age area ## Min. : 0.000 Min. :1.000 남성:4011 Length:8000 경기 :1103 ## 1st Qu.: 4.000 1st Qu.:3.000 여성:3989 Class :character 서울 : 965 ## Median : 5.000 Median :4.000 Mode :character 부산 : 539 ## Mean : 4.985 Mean :3.696 경남 : 527 ## 3rd Qu.: 6.000 3rd Qu.:4.000 인천 : 522 ## Max. :10.000 Max. :5.000 경북 : 466 ## (Other):3878 #성별 빈도분석 12345mental %&gt;% group_by(sex) %&gt;% summarise(n=n()) %&gt;% #sex 변수의 범주별 빈도 구하기 mutate(total=sum(n), pct=round(n/total*100,1)) 12345## # A tibble: 2 × 4## sex n total pct## &lt;fct&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;## 1 남성 4011 8000 50.1## 2 여성 3989 8000 49.9 #연령대별 빈도분석 12345mental %&gt;% group_by(age) %&gt;% summarise(n=n()) %&gt;% mutate(total=sum(n), pct=round(n/total*100,1)) 12345678## # A tibble: 5 × 4## age n total pct## &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;## 1 2 1516 8000 19 ## 2 20대 1542 8000 19.3## 3 3 1769 8000 22.1## 4 4 1821 8000 22.8## 5 5 1352 8000 16.9 #성과 연령대의 교차 빈도 구하기 1table(mental$sex,mental$age) 1234## ## 2 20대 3 4 5## 남성 745 822 900 891 653## 여성 771 720 869 930 699 #성과 연령대의 교차 백분율 구하기, 행별로 100%기준.소수점 한자리 1round(prop.table(table(mental$sex,mental$age),1)*100,1) 1234## ## 2 20대 3 4 5## 남성 18.6 20.5 22.4 22.2 16.3## 여성 19.3 18.0 21.8 23.3 17.5 #교차분석 검정 1chisq.test(mental$sex,mental$age) 12345## ## Pearson's Chi-squared test## ## data: mental$sex and mental$age## X-squared = 10.076, df = 4, p-value = 0.03916 #p&lt;0.05이므로 연령대 분포 비율은 다소 차이가 있다. #suicide, satisfaction, loneliness, family_belif, wealth,health 변수의 평균을 분석한다. 12mental %&gt;% summarise(m1=mean(suicide), m2=mean(satisfaction),m3=mean(loneliness),m4=mean(family_belief),m5=mean(wealth),m6=mean(health)) 12## m1 m2 m3 m4 m5 m6## 1 1.377625 6.0365 1.795 3.576375 4.985125 3.696125 #자살충동은 4점 척도에서 1.38 따라서 낮은 편#삶의 만족도 6.04 보통보다 조금 위#외로움 1.8으로 상대적으로 낮은 편#가족신뢰도 높은편#경제 안정도: 보통 바로 밑#건강상태: 5점 척도에서 3.7으로 좋은 수준 #삶의 만족도와 외로움을 독립변수로 하고, 자살충동을 종속변수로 하는 다중회귀분석 12RA&lt;-lm(data=mental,suicide~satisfaction+loneliness)summary(RA) 12345678910111213141516171819## ## Call:## lm(formula = suicide ~ satisfaction + loneliness, data = mental)## ## Residuals:## Min 1Q Median 3Q Max ## -1.50517 -0.40228 -0.03487 0.17773 3.07029 ## ## Coefficients:## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) 1.035551 0.029823 34.72 &lt;2e-16 ***## satisfaction -0.052583 0.003614 -14.55 &lt;2e-16 ***## loneliness 0.367405 0.007987 46.00 &lt;2e-16 ***## ---## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1## ## Residual standard error: 0.5451 on 7997 degrees of freedom## Multiple R-squared: 0.2668, Adjusted R-squared: 0.2666 ## F-statistic: 1455 on 2 and 7997 DF, p-value: &lt; 2.2e-16 #suicide = 1.035551-0.052583 X satisfaction + 0.367405 X loneliness #삶의 만족도와 외로움의 상관관계 1cor.test(mental$satisfaction,mental$loneliness) 1234567891011## ## Pearson's product-moment correlation## ## data: mental$satisfaction and mental$loneliness## t = -25.374, df = 7998, p-value &lt; 2.2e-16## alternative hypothesis: true correlation is not equal to 0## 95 percent confidence interval:## -0.2931116 -0.2525481## sample estimates:## cor ## -0.2729512 #가족 신뢰도, 경제안정도, 건강상태가 삶의 만족도와 외로움에 미치는 옇야 12RA&lt;-lm(data=mental, satisfaction~family_belief+wealth+health)summary(RA) 123456789101112131415161718192021## ## Call:## lm(formula = satisfaction ~ family_belief + wealth + health, ## data = mental)## ## Residuals:## Min 1Q Median 3Q Max ## -6.8274 -0.9431 -0.0425 1.0569 6.1986 ## ## Coefficients:## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) 2.07613 0.13765 15.08 &lt;2e-16 ***## family_belief 0.36851 0.03196 11.53 &lt;2e-16 ***## wealth 0.26016 0.01089 23.88 &lt;2e-16 ***## health 0.36403 0.02206 16.50 &lt;2e-16 ***## ---## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1## ## Residual standard error: 1.627 on 7996 degrees of freedom## Multiple R-squared: 0.1386, Adjusted R-squared: 0.1383 ## F-statistic: 428.8 on 3 and 7996 DF, p-value: &lt; 2.2e-16 #3개의 독립 변수가 외로움에 미치는 영향 12RA&lt;-lm(data=mental, loneliness~family_belief+wealth+health)summary(RA) 1234567891011121314151617181920## ## Call:## lm(formula = loneliness ~ family_belief + wealth + health, data = mental)## ## Residuals:## Min 1Q Median 3Q Max ## -2.24066 -0.64247 0.01863 0.43022 2.83959 ## ## Coefficients:## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) 3.652247 0.063109 57.87 &lt;2e-16 ***## family_belief -0.220274 0.014654 -15.03 &lt;2e-16 ***## wealth -0.072686 0.004995 -14.55 &lt;2e-16 ***## health -0.191313 0.010116 -18.91 &lt;2e-16 ***## ---## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1## ## Residual standard error: 0.746 on 7996 degrees of freedom## Multiple R-squared: 0.1157, Adjusted R-squared: 0.1154 ## F-statistic: 348.9 on 3 and 7996 DF, p-value: &lt; 2.2e-16 =&gt;3개의 변수 모두 유의미하다.loneliness = 3.652247 -0.220274 X family_belief - 0.072686 X wealth -0.191313 X health 성별로 삶의 만족도에서 차이가 있는가를 독립표본 t검정으로 확인1t.test(data=mental,satisfaction~sex) 1234567891011## ## Welch Two Sample t-test## ## data: satisfaction by sex## t = -3.7719, df = 7997.6, p-value = 0.0001632## alternative hypothesis: true difference in means between group 남성 and group 여성 is not equal to 0## 95 percent confidence interval:## -0.22446298 -0.07094075## sample estimates:## mean in group 남성 mean in group 여성 ## 5.962852 6.110554 #유의수준이 0.001보다 작기 때문에 이 통계 결과는 유의미하다.여성의 만족도가 남성보다 높다고 할 수 있다. #연령대별 삶의 만족도 차이 1234mental %&gt;% group_by(age) %&gt;% summarise(m=mean(satisfaction)) %&gt;% arrange(desc(m)) 12345678## # A tibble: 5 × 2## age m## &lt;chr&gt; &lt;dbl&gt;## 1 2 6.13## 2 4 6.08## 3 3 6.05## 4 20대 6.04## 5 5 5.84 #30대가 6.13으로 가장 높다. #지역별 삶의 만족도 분석과 그래프 그리기 1234area_satisfaction&lt;-mental %&gt;% group_by(area) %&gt;% summarise(m=mean(satisfaction)) %&gt;% arrange(desc(m)) 123456ggplot(data=area_satisfaction,aes(x=reorder(area,m),y=m))+ geom_col()+ ggtitle(&quot;지역별 만족도&quot;)+ xlab(&quot;지역&quot;)+ ylab(&quot;만족도&quot;)+ coord_flip()","link":"/2022/06/24/day0624/"}],"tags":[],"categories":[]}